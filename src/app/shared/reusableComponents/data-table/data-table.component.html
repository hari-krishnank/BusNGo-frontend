<div class="container mx-auto px-4 sm:px-8 mt-40">
    <div class="py-8">
        <div class="flex justify-between items-center mb-4">
            <p class="text-2xl font-semibold leading-tight font-sans">{{ title }}</p>
            <div class="flex items-center justify-between">
                <div class="search-area mr-4">
                    <app-form [form]="searchForm" [fields]="searchFields" [hideSubmitButton]="true"
                        (valueChanges)="onSearch($event)">
                    </app-form>
                </div>
                <div>
                    <button mat-raised-button color="primary" (click)="onAddNew()">ADD NEW</button>
                </div>
            </div>
        </div>

        <table mat-table [dataSource]="data" class="w-full">
            <ng-container *ngFor="let column of columns" [matColumnDef]="column.key">
                <th mat-header-cell *matHeaderCellDef
                    class="bg-gray-100 text-gray-700 font-semibold px-6 py-4 text-left">
                    {{ column.label }}
                </th>
                <td mat-cell *matCellDef="let element" class="px-6 py-4 whitespace-nowrap">
                    <ng-container [ngSwitch]="column.type">
                        <ng-container *ngSwitchCase="'icon'">
                            <span [innerHTML]="element[column.key] | icon"></span>
                        </ng-container>
                        <ng-container *ngSwitchCase="'seatPreview'">
                            <app-seat-preview [rows]="element.rows" [columns]="element.columns"
                                [driverSeatPosition]="element.driverSeatPosition"
                                [selectedSeats]="element.selectedSeats" [previewMode]="true">
                            </app-seat-preview>
                        </ng-container>
                        <ng-container *ngSwitchDefault>
                            {{ element[column.key] }}
                        </ng-container>
                    </ng-container>
                </td>
            </ng-container>

            <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef
                    class="bg-gray-100 text-gray-700 font-semibold px-6 py-4 text-center">
                    ACTIONS
                </th>
                <td mat-cell *matCellDef="let element" class="px-6 py-4 whitespace-nowrap text-center">
                    <button mat-button color="primary" class="mr-4" (click)="onEdit(element)">
                        <mat-icon>edit</mat-icon> Edit
                    </button>
                    <button mat-button color="warn" (click)="onDelete(element)">
                        <mat-icon>delete</mat-icon> Delete
                    </button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"
                class="hover:bg-gray-50 transition-colors duration-200"></tr>
        </table>

        <div class="mt-4 flex justify-end">
            <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
        </div>
    </div>
</div>