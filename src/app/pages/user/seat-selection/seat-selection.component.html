<div class="flex">
    <div class="w-1/3 pr-4">
        <p class="font-semibold mb-4" style="font-size: medium;">• Select boarding and dropping point</p>
        <div class="mb-4">
            <p class="font-medium mb-2">Boarding Point</p>
            <div class="mb-2">
                <label class="flex items-center">
                    <input type="radio" [name]="'boarding-' + trip._id" [value]="trip.startFrom.id" class="mr-2">
                    <span class="font-semibold">{{trip.schedule.startFrom}}</span>
                    <span class="ml-2">{{trip.startFrom.location}}</span>
                </label>
            </div>
        </div>
        <div>
            <p class="font-medium mb-2">Dropping Point</p>
            <div class="mb-2">
                <label class="flex items-center">
                    <input type="radio" [name]="'dropping-' + trip._id" [value]="trip.endTo.id" class="mr-2">
                    <span class="font-semibold">{{trip.schedule.end}}</span>
                    <span class="ml-2">{{trip.endTo.location}}</span>
                </label>
            </div>
        </div>
    </div>

    <div class="w-2/3">
        <p class="font-semibold mb-4" style="font-size: medium;">• Select your seat</p>
        <div class="flex justify-between mb-4 text-sm">
            <span class="flex items-center">
                <span class="w-4 h-4 bg-emerald-500 inline-block mr-1"></span>
                Selected By You
            </span>
            <span class="flex items-center">
                <span class="w-4 h-4 border border-gray-300 inline-block mr-1"
                    style="background-color: #e0e0e0;"></span>
                Available Seats
            </span>
            <span class="flex items-center">
                <span class="w-4 h-4 bg-pink-500 inline-block mr-1"></span>
                Ladies
            </span>
            <span class="flex items-center">
                <span class="w-4 h-4 bg-blue-500 inline-block mr-1"></span>
                Gents
            </span>
            <span class="flex items-center">
                <span class="w-4 h-4 bg-gray-500 inline-block mr-1"></span>
                Booked Seats
            </span>
        </div>
        <div class="mb-4">
            <span class="font-semibold text-xl">All</span>
            <span class="ml-4 text-lg font-medium">₹ {{trip.ticketPrice}}</span>
        </div>

        <app-seat-preview [rows]="getSeatLayout(trip).rows" [columns]="getSeatLayout(trip).columns"
            [selectedSeats]="getSeatLayout(trip).selectedSeats" [previewMode]="true" [isOwnerView]="true"
            [allowUserSelection]="true" [viewType]="'user'" (seatsSelected)="onSeatsSelected(trip.bus.name, $event)">
        </app-seat-preview>

        <button mat-raised-button color="primary" class="w-full py-2 mt-4" (click)="bookSeats()">
            {{ trip.selectedSeats?.length ? 'PROCEED WITH SELECTED SEATS' : 'SELECT SEATS TO PROCEED' }}
        </button>

        <app-seat-booking></app-seat-booking>
    </div>
</div>