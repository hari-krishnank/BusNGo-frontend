<app-usernav></app-usernav>
<div class="relative min-h-screen flex bg-gray-100">
    <div
        class="absolute top-0 left-0 right-0 h-80 bg-gradient-to-r from-slate-200 to-neutral-100 rounded-bl-[110%] rounded-br-[40%]">
    </div>
    <div class="relative z-10 flex w-full max-w-7xl mx-auto p-8">
        <div class="w-full">
            <div class="mt-28">
                <p class="text-3xl font-sans text-black mb-4 font-semibold">My Co-Travellers</p>
            </div>
            <div class="flex">
                <app-profile-side-bar></app-profile-side-bar>
                <div class="flex-1">
                    <div class="bg-white border-l shadow-sm p-8 mb-8 min-h-[600px] flex flex-col">
                        <div class="flex justify-end items-center mb-6">
                            <button mat-raised-button color="primary" (click)="openDialog()">
                                + Add a new traveller
                            </button>
                        </div>
                        <div class="flex-grow overflow-y-auto">
                            <div *ngIf="coTravellers?.length === 0" class="text-center py-4">
                                <p class="text-gray-600 mb-4 text-lg font-serif">You haven't added any co-travellers
                                    yet.</p>
                                <img src="assets/User/Co-traveller.png" alt="No co-travellers"
                                    class="mx-auto mb-4 h-60">
                                <p class="text-gray-600 text-lg font-serif text-balance">
                                    Add people you book for as travellers and save the trouble of entering their details
                                    repeatedly.
                                    We can also remember their preferences and you can email or sms tickets easily.
                                </p>
                            </div>
                            <div *ngIf="coTravellers.length > 0" class="space-y-2">
                                <app-co-travellers-card 
                                    *ngFor="let traveller of coTravellers" 
                                    [traveller]="traveller"
                                    (edit)="editCoTraveller($event)" 
                                    (delete)="deleteCoTraveller($event)">
                                </app-co-travellers-card>
                            </div>
                        </div>
                        <div class="mt-4" *ngIf="coTravellers.length > 0">
                            <mat-paginator 
                                [length]="totalCoTravellers" 
                                [pageSize]="pageSize"
                                [pageSizeOptions]="[5, 10, 25]" 
                                (page)="onPageChange($event)" 
                                showFirstLastButtons>
                            </mat-paginator>
                        </div> 
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<app-footer></app-footer>